<!DOCTYPE html>
<html>
<head>
    <title>Entrenamientos</title>
</head>
<body>
    <h1>Registro de entrenamientos</h1>
    {% if error %}
        <p style="color: red;">{{ error }}</p>
    {% endif %}
    <form method="POST">
        <label>Nombre de usuario:</label><br>
        <input type="text" name="usuari" required><br>

        <label>Tipo:</label><br>
        <select name="tipus" required onchange="toggleReps(this.value)">
            <option value="Cardio">Cardio</option>
            <option value="Força">Força</option>
        </select><br>

        <label>Valor (km o kg):</label><br>
        <input type="number" name="valor" step="0.01" required><br>

        <div id="repsField" style="display: none;">
            <label>Repeticiones:</label><br>
            <input type="number" name="repeticions" min="1"><br>
        </div><br>

        <button type="submit">Guardar entrenamiento</button>
    </form>

    <hr>

    <h2>Rutinas guardadas:</h2>
    {% if rutines %}
        <ul>
        {% for rutina in rutines %}
            <li><strong>{{ rutina[0] }}</strong>: {{ rutina[1] }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No hay rutinas registradas.</p>
    {% endif %}

    <p><a href="{{ url_for('crear_rutina') }}">Crear nueva rutina</a> | 
      
    <script>
        function toggleReps(value) {
            document.getElementById('repsField').style.display = value === 'Força' ? 'block' : 'none';
        }
    </script>
</body>
</html>
